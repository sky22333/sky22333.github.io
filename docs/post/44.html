<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark_colorblind" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    <script src='https://blog.meekdai.com/Gmeek/plugins/GmeekVercount.js'></script>
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/sky22333/sky22333.github.io@main/static/assets/blog.png"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="### 3xui通过api登录并保存cookie
```
curl -X POST http://127.0.0.1:2053/login \
     -H 'Content-Type: application/json' \
     -d '{'username': 'admin', 'password': 'admin'}' \
     -c cookies.txt
```

### 获取所有入站信息（qwer为面板路径）
```
curl -L -X GET http://127.0.0.1:2053/qwer/panel/api/inbounds/list -b cookies.txt
```

### 获取所有所有入站并过滤显示ID
```
curl -s -L -X GET 'http://127.0.0.1:2053/qwer/panel/api/inbounds/list' -b cookies.txt | grep -o ''id':[0-9]*' | sed 's/'id'://' | sort -n | uniq
```

### 获取指定ID的入站（ID 2为例）
```
curl -X GET 'http://127.0.0.1:2053/qwer/panel/api/inbounds/get/2' -b cookies.txt
```

### 删除入站（ID 2为例）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/del/2' -b cookies.txt
```

### 添加入站（vless + ws）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/add' \
  -b cookies.txt \
  -H 'Content-Type: application/json' \
  -d '{
    'up': 0,
    'down': 0,
    'total': 0,
    'remark': 'node1',
    'enable': true,
    'expiryTime': 0,
    'listen': '',
    'port': 18917,
    'protocol': 'vless',
    'settings': '{\'clients\': [{\'id\': \'aeff4df1-3e30-4b5f-b6b8-635872b85aa0\',\'flow\': \'\',\'email\': \'hscqy7r3\',\'limitIp\': 0,\'totalGB\': 0,\'expiryTime\': 0,\'enable\': true,\'tgId\': \'\',\'subId\': \'ktl8jfe6bgnyon4g\',\'reset\': 0}],\'decryption\': \'none\',\'fallbacks\': []}',
    'streamSettings': '{\'network\': \'ws\',\'security\': \'none\',\'externalProxy\': [],\'tcpSettings\': {\'acceptProxyProtocol\': false,\'header\': {\'type\': \'none\'}}}',
    'tag': 'inbound-18917',
    'sniffing': '{\'enabled\': false,\'destOverride\': [\'http\',\'tls\',\'quic\',\'fakedns\'],\'metadataOnly\': false,\'routeOnly\': false}',
    'allocate': '{\'strategy\': \'always\',\'refresh\': 5,\'concurrency\': 3}'
}'
```

### 添加入站（vless + grpc + reailty）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/add' \
  -b cookies.txt \
  -H 'Content-Type: application/json' \
  -d '{
    'up': 0,
    'down': 0,
    'total': 0,
    'remark': 'node2',
    'enable': true,
    'expiryTime': 0,
    'listen': '',
    'port': 10654,
    'protocol': 'vless',
    'settings': '{\'clients\': [{\'id\': \'bf7d39f5-257e-499f-acda-a9ea77b11bb4\',\'flow\': \'\',\'email\': \'y6kxqdix\',\'limitIp\': 0,\'totalGB\': 0,\'expiryTime\': 0,\'enable\': true,\'tgId\': \'\',\'subId\': \'cqeaws7i3w3z70rp\',\'reset\': 0}],\'decryption\': \'none\',\'fallbacks\': []}',
    'streamSettings': '{\'network\': \'grpc\',\'security\': \'reality\',\'externalProxy\': [],\'realitySettings\': {\'show\': false,\'xver\': 0,\'dest\': \'www.icloud.com:443\',\'serverNames\': [\'www.icloud.com\'],\'privateKey\': \'4FNf4m1nQVXcoO31xjk7noe82A7F2Dg2XEier3ogEBY\',\'minClient\': \'\',\'maxClient\': \'\',\'maxTimediff\': 0,\'shortIds\': [\'863f9613\',\'d978\',\'0f3abe\',\'79\',\'f014d5309f8954\',\'1311bf0f64f82159\',\'3d0cba0857f7\',\'c7ce204393\'],\'settings\': {\'publicKey\': \'3fFBgCb6PpNC_Kqph7UM2pXw4m1ck82ss4ov8YlmqWc\',\'fingerprint\': \'chrome\',\'serverName\': \'\',\'spiderX\': \'/\'}}}',
    'grpcSettings': '{\'serviceName\': \'\',\'authority\': \'\',\'multiMode\': false}',
    'tag': 'inbound-10654',
    'sniffing': '{\'enabled\': false,\'destOverride\': [\'http\',\'tls\',\'quic\',\'fakedns\'],\'metadataOnly\': false,\'routeOnly\': false}',
    'allocate': '{\'strategy\': \'always\',\'refresh\': 5,\'concurrency\': 3}'
  }'
```

### 添加入站（ss协议）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/add' \
  -b cookies.txt \
  -H 'Content-Type: application/json' \
  -d '{
    'up': 0,
    'down': 0,
    'total': 0,
    'remark': 'node3',
    'enable': true,
    'expiryTime': 0,
    'listen': '',
    'port': 15584,
    'protocol': 'shadowsocks',
    'settings': '{\'method\': \'aes-256-gcm\',\'password\': \'pn8P4P/QQufYak532Eu4+jO2rovYatJIZPbPmzg6yw4=\',\'network\': \'tcp,udp\',\'clients\': [{\'method\': \'aes-256-gcm\',\'password\': \'WGfVnsKmHgs/xs259zTxRuya2RDvjKiU2WAqM5Sevic=\',\'email\': \'gcxfaord\',\'limitIp\': 0,\'totalGB\': 0,\'expiryTime\': 0,\'enable\': true,\'tgId\': \'\',\'subId\': \'yx89qjpbt2bo03fc\',\'reset\': 0}],\'ivCheck\': false}',
    'streamSettings': '{\'network\': \'tcp\',\'security\': \'none\',\'externalProxy\': [],\'tcpSettings\': {\'acceptProxyProtocol\': false,\'header\': {\'type\': \'none\'}}}',
    'tag': 'inbound-15584',
    'sniffing': '{\'enabled\': false,\'destOverride\': [\'http\',\'tls\',\'quic\',\'fakedns\'],\'metadataOnly\': false,\'routeOnly\': false}',
    'allocate': '{\'strategy\': \'always\',\'refresh\': 5,\'concurrency\': 3}'
  }'
```



### API文档

- [API 文档](https://www.postman.com/hsanaei/3x-ui/collection/q1l5l0u/3x-ui)
- `/login` 使用 `POST` 用户名称 & 密码： `{username: '', password: ''}` 登录
- `/panel/api/inbounds` 以下操作的基础：

|  方法  | 路径                               | 操作                              |
| :----: | ---------------------------------- | --------------------------------- |
| `GET`  | `'/list'`                          | 获取所有入站                      |
| `GET`  | `'/get/id'`                       | 获取所有入站以及inbound.id        |
| `GET`  | `'/getClientTraffics/email'`      | 通过电子邮件获取客户端流量        |
| `GET`  | `'/createbackup'`                  | Telegram 机器人向管理员发送备份   |
| `POST` | `'/add'`                           | 添加入站                          |
| `POST` | `'/del/id'`                       | 删除入站                          |
| `POST` | `'/update/id'`                    | 更新入站                          |
| `POST` | `'/clientIps/email'`              | 客户端 IP 地址                    |
| `POST` | `'/clearClientIps/email'`         | 清除客户端 IP 地址                |
| `POST` | `'/addClient'`                     | 将客户端添加到入站                |
| `POST` | `'/:id/delClient/clientId'`       | 通过 clientId\* 删除客户端        |
| `POST` | `'/updateClient/clientId'`        | 通过 clientId\* 更新客户端        |
| `POST` | `'/:id/resetClientTraffic/email'` | 重置客户端的流量                  |
| `POST` | `'/resetAllTraffics'`              | 重置所有入站的流量                |
| `POST` | `'/resetAllClientTraffics/id'`    | 重置入站中所有客户端的流量        |
| `POST` | `'/delDepletedClients/id'`        | 删除入站耗尽的客户端 （-1： all） |
| `POST` | `'/onlines'`                       | 获取在线用户 （ 电子邮件列表 ）   |

\*- `clientId` 项应该使用下列数据

- `client.id`  VMESS and VLESS
- `client.password`  TROJAN
- `client.email`  Shadowsocks



### 参数解释
```
{
  '_comment': '上面是一些全局设置',
  'up': 0,  // 上传流量限制，单位为字节，0表示不限制
  'down': 0,  // 下载流量限制，单位为字节，0表示不限制
  'total': 0,  // 总流量限制，单位为字节，0表示不限制
  'remark': 'node2',  // 节点备注，用于标识节点
  'enable': true,  // 是否启用此节点，true表示启用
  'expiryTime': 0,  // 过期时间，单位为秒，0表示永不过期
  'listen': '',  // 监听地址，空表示默认监听所有地址
  'port': 10654,  // 监听端口号
  'protocol': 'vless',  // 协议类型，vless表示VLESS协议
  'settings': {
    '_comment': '此部分为协议相关设置',
    'clients': [
      {
        'id': 'bf7d39f5-257e-499f-acda-a9ea77b11bb4',  // 客户端ID，唯一标识
        'flow': '',  // 流量控制，空表示没有流量限制
        'email': 'y6kxqdix',  // 客户端的邮箱，用于标识
        'limitIp': 0,  // 限制IP，0表示不限制
        'totalGB': 0,  // 总流量限制，单位为GB，0表示不限制
        'expiryTime': 0,  // 客户端的过期时间，0表示永不过期
        'enable': true,  // 是否启用此客户端
        'tgId': '',  // TG ID，如果为空则表示没有设置
        'subId': 'cqeaws7i3w3z70rp',  // 订阅ID
        'reset': 0  // 重置流量的时间，0表示不重置
      }
    ],
    'decryption': 'none',  // 解密方式，none表示不使用解密
    'fallbacks': []  // 后备设置，空数组表示没有备用配置
  },
  'streamSettings': {
    '_comment': '此部分为流设置',
    'network': 'grpc',  // 网络协议，grpc表示使用gRPC协议
    'security': 'reality',  // 安全设置，reality表示使用Reality协议
    'externalProxy': [],  // 外部代理设置，空数组表示没有外部代理
    'realitySettings': {
      '_comment': 'Reality协议设置',
      'show': false,  // 是否显示该设置
      'xver': 0,  // 协议版本号
      'dest': 'www.icloud.com:443',  // 目标地址，www.icloud.com:443
      'serverNames': [
        'www.icloud.com'  // 服务器名称，用于TLS验证
      ],
      'privateKey': '4FNf4m1nQVXcoO31xjk7noe82A7F2Dg2XEier3ogEBY',  // Reality协议私钥
      'minClient': '',  // 最小客户端数，空表示没有限制
      'maxClient': '',  // 最大客户端数，空表示没有限制
      'maxTimediff': 0,  // 最大时间差，0表示不限制
      'shortIds': [
        '863f9613', 'd978', '0f3abe', '79', 'f014d5309f8954',
        '1311bf0f64f82159', '3d0cba0857f7', 'c7ce204393'
      ],  // Reality协议的短ID列表
      'settings': {
        'publicKey': '3fFBgCb6PpNC_Kqph7UM2pXw4m1ck82ss4ov8YlmqWc',  // Reality协议的公钥
        'fingerprint': 'chrome',  // 浏览器指纹，chrome表示谷歌浏览器
        'serverName': '',  // 服务器名称
        'spiderX': '/'  // 模拟爬虫的路径
      }
    }
  },
  'grpcSettings': {
    '_comment': 'gRPC协议的设置',
    'serviceName': '',  // 服务名称，空表示没有指定
    'authority': '',  // 权威设置，空表示没有指定
    'multiMode': false  // 是否启用多模式，false表示关闭
  },
  'tag': 'inbound-10654',  // 标签，用于标识该入站
  'sniffing': {
    '_comment': '嗅探设置',
    'enabled': false,  // 是否启用嗅探，false表示不启用
    'destOverride': [
      'http', 'tls', 'quic', 'fakedns'  // 嗅探的目标协议
    ],
    'metadataOnly': false,  // 是否只嗅探元数据
    'routeOnly': false  // 是否只嗅探路由
  },
  'allocate': {
    '_comment': '流量分配设置',
    'strategy': 'always',  // 分配策略，always表示始终分配
    'refresh': 5,  // 刷新时间，单位为秒
    'concurrency': 3  // 最大并发连接数
  }
}
```
。">
<meta property="og:title" content="3x-ui面板通过api管理示例">
<meta property="og:description" content="### 3xui通过api登录并保存cookie
```
curl -X POST http://127.0.0.1:2053/login \
     -H 'Content-Type: application/json' \
     -d '{'username': 'admin', 'password': 'admin'}' \
     -c cookies.txt
```

### 获取所有入站信息（qwer为面板路径）
```
curl -L -X GET http://127.0.0.1:2053/qwer/panel/api/inbounds/list -b cookies.txt
```

### 获取所有所有入站并过滤显示ID
```
curl -s -L -X GET 'http://127.0.0.1:2053/qwer/panel/api/inbounds/list' -b cookies.txt | grep -o ''id':[0-9]*' | sed 's/'id'://' | sort -n | uniq
```

### 获取指定ID的入站（ID 2为例）
```
curl -X GET 'http://127.0.0.1:2053/qwer/panel/api/inbounds/get/2' -b cookies.txt
```

### 删除入站（ID 2为例）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/del/2' -b cookies.txt
```

### 添加入站（vless + ws）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/add' \
  -b cookies.txt \
  -H 'Content-Type: application/json' \
  -d '{
    'up': 0,
    'down': 0,
    'total': 0,
    'remark': 'node1',
    'enable': true,
    'expiryTime': 0,
    'listen': '',
    'port': 18917,
    'protocol': 'vless',
    'settings': '{\'clients\': [{\'id\': \'aeff4df1-3e30-4b5f-b6b8-635872b85aa0\',\'flow\': \'\',\'email\': \'hscqy7r3\',\'limitIp\': 0,\'totalGB\': 0,\'expiryTime\': 0,\'enable\': true,\'tgId\': \'\',\'subId\': \'ktl8jfe6bgnyon4g\',\'reset\': 0}],\'decryption\': \'none\',\'fallbacks\': []}',
    'streamSettings': '{\'network\': \'ws\',\'security\': \'none\',\'externalProxy\': [],\'tcpSettings\': {\'acceptProxyProtocol\': false,\'header\': {\'type\': \'none\'}}}',
    'tag': 'inbound-18917',
    'sniffing': '{\'enabled\': false,\'destOverride\': [\'http\',\'tls\',\'quic\',\'fakedns\'],\'metadataOnly\': false,\'routeOnly\': false}',
    'allocate': '{\'strategy\': \'always\',\'refresh\': 5,\'concurrency\': 3}'
}'
```

### 添加入站（vless + grpc + reailty）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/add' \
  -b cookies.txt \
  -H 'Content-Type: application/json' \
  -d '{
    'up': 0,
    'down': 0,
    'total': 0,
    'remark': 'node2',
    'enable': true,
    'expiryTime': 0,
    'listen': '',
    'port': 10654,
    'protocol': 'vless',
    'settings': '{\'clients\': [{\'id\': \'bf7d39f5-257e-499f-acda-a9ea77b11bb4\',\'flow\': \'\',\'email\': \'y6kxqdix\',\'limitIp\': 0,\'totalGB\': 0,\'expiryTime\': 0,\'enable\': true,\'tgId\': \'\',\'subId\': \'cqeaws7i3w3z70rp\',\'reset\': 0}],\'decryption\': \'none\',\'fallbacks\': []}',
    'streamSettings': '{\'network\': \'grpc\',\'security\': \'reality\',\'externalProxy\': [],\'realitySettings\': {\'show\': false,\'xver\': 0,\'dest\': \'www.icloud.com:443\',\'serverNames\': [\'www.icloud.com\'],\'privateKey\': \'4FNf4m1nQVXcoO31xjk7noe82A7F2Dg2XEier3ogEBY\',\'minClient\': \'\',\'maxClient\': \'\',\'maxTimediff\': 0,\'shortIds\': [\'863f9613\',\'d978\',\'0f3abe\',\'79\',\'f014d5309f8954\',\'1311bf0f64f82159\',\'3d0cba0857f7\',\'c7ce204393\'],\'settings\': {\'publicKey\': \'3fFBgCb6PpNC_Kqph7UM2pXw4m1ck82ss4ov8YlmqWc\',\'fingerprint\': \'chrome\',\'serverName\': \'\',\'spiderX\': \'/\'}}}',
    'grpcSettings': '{\'serviceName\': \'\',\'authority\': \'\',\'multiMode\': false}',
    'tag': 'inbound-10654',
    'sniffing': '{\'enabled\': false,\'destOverride\': [\'http\',\'tls\',\'quic\',\'fakedns\'],\'metadataOnly\': false,\'routeOnly\': false}',
    'allocate': '{\'strategy\': \'always\',\'refresh\': 5,\'concurrency\': 3}'
  }'
```

### 添加入站（ss协议）
```
curl -X POST 'http://127.0.0.1:2053/qwer/panel/api/inbounds/add' \
  -b cookies.txt \
  -H 'Content-Type: application/json' \
  -d '{
    'up': 0,
    'down': 0,
    'total': 0,
    'remark': 'node3',
    'enable': true,
    'expiryTime': 0,
    'listen': '',
    'port': 15584,
    'protocol': 'shadowsocks',
    'settings': '{\'method\': \'aes-256-gcm\',\'password\': \'pn8P4P/QQufYak532Eu4+jO2rovYatJIZPbPmzg6yw4=\',\'network\': \'tcp,udp\',\'clients\': [{\'method\': \'aes-256-gcm\',\'password\': \'WGfVnsKmHgs/xs259zTxRuya2RDvjKiU2WAqM5Sevic=\',\'email\': \'gcxfaord\',\'limitIp\': 0,\'totalGB\': 0,\'expiryTime\': 0,\'enable\': true,\'tgId\': \'\',\'subId\': \'yx89qjpbt2bo03fc\',\'reset\': 0}],\'ivCheck\': false}',
    'streamSettings': '{\'network\': \'tcp\',\'security\': \'none\',\'externalProxy\': [],\'tcpSettings\': {\'acceptProxyProtocol\': false,\'header\': {\'type\': \'none\'}}}',
    'tag': 'inbound-15584',
    'sniffing': '{\'enabled\': false,\'destOverride\': [\'http\',\'tls\',\'quic\',\'fakedns\'],\'metadataOnly\': false,\'routeOnly\': false}',
    'allocate': '{\'strategy\': \'always\',\'refresh\': 5,\'concurrency\': 3}'
  }'
```



### API文档

- [API 文档](https://www.postman.com/hsanaei/3x-ui/collection/q1l5l0u/3x-ui)
- `/login` 使用 `POST` 用户名称 & 密码： `{username: '', password: ''}` 登录
- `/panel/api/inbounds` 以下操作的基础：

|  方法  | 路径                               | 操作                              |
| :----: | ---------------------------------- | --------------------------------- |
| `GET`  | `'/list'`                          | 获取所有入站                      |
| `GET`  | `'/get/id'`                       | 获取所有入站以及inbound.id        |
| `GET`  | `'/getClientTraffics/email'`      | 通过电子邮件获取客户端流量        |
| `GET`  | `'/createbackup'`                  | Telegram 机器人向管理员发送备份   |
| `POST` | `'/add'`                           | 添加入站                          |
| `POST` | `'/del/id'`                       | 删除入站                          |
| `POST` | `'/update/id'`                    | 更新入站                          |
| `POST` | `'/clientIps/email'`              | 客户端 IP 地址                    |
| `POST` | `'/clearClientIps/email'`         | 清除客户端 IP 地址                |
| `POST` | `'/addClient'`                     | 将客户端添加到入站                |
| `POST` | `'/:id/delClient/clientId'`       | 通过 clientId\* 删除客户端        |
| `POST` | `'/updateClient/clientId'`        | 通过 clientId\* 更新客户端        |
| `POST` | `'/:id/resetClientTraffic/email'` | 重置客户端的流量                  |
| `POST` | `'/resetAllTraffics'`              | 重置所有入站的流量                |
| `POST` | `'/resetAllClientTraffics/id'`    | 重置入站中所有客户端的流量        |
| `POST` | `'/delDepletedClients/id'`        | 删除入站耗尽的客户端 （-1： all） |
| `POST` | `'/onlines'`                       | 获取在线用户 （ 电子邮件列表 ）   |

\*- `clientId` 项应该使用下列数据

- `client.id`  VMESS and VLESS
- `client.password`  TROJAN
- `client.email`  Shadowsocks



### 参数解释
```
{
  '_comment': '上面是一些全局设置',
  'up': 0,  // 上传流量限制，单位为字节，0表示不限制
  'down': 0,  // 下载流量限制，单位为字节，0表示不限制
  'total': 0,  // 总流量限制，单位为字节，0表示不限制
  'remark': 'node2',  // 节点备注，用于标识节点
  'enable': true,  // 是否启用此节点，true表示启用
  'expiryTime': 0,  // 过期时间，单位为秒，0表示永不过期
  'listen': '',  // 监听地址，空表示默认监听所有地址
  'port': 10654,  // 监听端口号
  'protocol': 'vless',  // 协议类型，vless表示VLESS协议
  'settings': {
    '_comment': '此部分为协议相关设置',
    'clients': [
      {
        'id': 'bf7d39f5-257e-499f-acda-a9ea77b11bb4',  // 客户端ID，唯一标识
        'flow': '',  // 流量控制，空表示没有流量限制
        'email': 'y6kxqdix',  // 客户端的邮箱，用于标识
        'limitIp': 0,  // 限制IP，0表示不限制
        'totalGB': 0,  // 总流量限制，单位为GB，0表示不限制
        'expiryTime': 0,  // 客户端的过期时间，0表示永不过期
        'enable': true,  // 是否启用此客户端
        'tgId': '',  // TG ID，如果为空则表示没有设置
        'subId': 'cqeaws7i3w3z70rp',  // 订阅ID
        'reset': 0  // 重置流量的时间，0表示不重置
      }
    ],
    'decryption': 'none',  // 解密方式，none表示不使用解密
    'fallbacks': []  // 后备设置，空数组表示没有备用配置
  },
  'streamSettings': {
    '_comment': '此部分为流设置',
    'network': 'grpc',  // 网络协议，grpc表示使用gRPC协议
    'security': 'reality',  // 安全设置，reality表示使用Reality协议
    'externalProxy': [],  // 外部代理设置，空数组表示没有外部代理
    'realitySettings': {
      '_comment': 'Reality协议设置',
      'show': false,  // 是否显示该设置
      'xver': 0,  // 协议版本号
      'dest': 'www.icloud.com:443',  // 目标地址，www.icloud.com:443
      'serverNames': [
        'www.icloud.com'  // 服务器名称，用于TLS验证
      ],
      'privateKey': '4FNf4m1nQVXcoO31xjk7noe82A7F2Dg2XEier3ogEBY',  // Reality协议私钥
      'minClient': '',  // 最小客户端数，空表示没有限制
      'maxClient': '',  // 最大客户端数，空表示没有限制
      'maxTimediff': 0,  // 最大时间差，0表示不限制
      'shortIds': [
        '863f9613', 'd978', '0f3abe', '79', 'f014d5309f8954',
        '1311bf0f64f82159', '3d0cba0857f7', 'c7ce204393'
      ],  // Reality协议的短ID列表
      'settings': {
        'publicKey': '3fFBgCb6PpNC_Kqph7UM2pXw4m1ck82ss4ov8YlmqWc',  // Reality协议的公钥
        'fingerprint': 'chrome',  // 浏览器指纹，chrome表示谷歌浏览器
        'serverName': '',  // 服务器名称
        'spiderX': '/'  // 模拟爬虫的路径
      }
    }
  },
  'grpcSettings': {
    '_comment': 'gRPC协议的设置',
    'serviceName': '',  // 服务名称，空表示没有指定
    'authority': '',  // 权威设置，空表示没有指定
    'multiMode': false  // 是否启用多模式，false表示关闭
  },
  'tag': 'inbound-10654',  // 标签，用于标识该入站
  'sniffing': {
    '_comment': '嗅探设置',
    'enabled': false,  // 是否启用嗅探，false表示不启用
    'destOverride': [
      'http', 'tls', 'quic', 'fakedns'  // 嗅探的目标协议
    ],
    'metadataOnly': false,  // 是否只嗅探元数据
    'routeOnly': false  // 是否只嗅探路由
  },
  'allocate': {
    '_comment': '流量分配设置',
    'strategy': 'always',  // 分配策略，always表示始终分配
    'refresh': 5,  // 刷新时间，单位为秒
    'concurrency': 3  // 最大并发连接数
  }
}
```
。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.52013120.xyz/post/44.html">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/sky22333/sky22333.github.io@main/static/assets/blog.png">
<title>3x-ui面板通过api管理示例</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">3x-ui面板通过api管理示例</h1>
<div class="title-right">
    <a href="https://blog.52013120.xyz" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h3>3xui通过api登录并保存cookie</h3>
<pre class="notranslate"><code class="notranslate">curl -X POST http://127.0.0.1:2053/login \
     -H "Content-Type: application/json" \
     -d '{"username": "admin", "password": "admin"}' \
     -c cookies.txt
</code></pre>
<h3>获取所有入站信息（qwer为面板路径）</h3>
<pre class="notranslate"><code class="notranslate">curl -L -X GET http://127.0.0.1:2053/qwer/panel/api/inbounds/list -b cookies.txt
</code></pre>
<h3>获取所有所有入站并过滤显示ID</h3>
<pre class="notranslate"><code class="notranslate">curl -s -L -X GET "http://127.0.0.1:2053/qwer/panel/api/inbounds/list" -b cookies.txt | grep -o '"id":[0-9]*' | sed 's/"id"://' | sort -n | uniq
</code></pre>
<h3>获取指定ID的入站（ID 2为例）</h3>
<pre class="notranslate"><code class="notranslate">curl -X GET "http://127.0.0.1:2053/qwer/panel/api/inbounds/get/2" -b cookies.txt
</code></pre>
<h3>删除入站（ID 2为例）</h3>
<pre class="notranslate"><code class="notranslate">curl -X POST "http://127.0.0.1:2053/qwer/panel/api/inbounds/del/2" -b cookies.txt
</code></pre>
<h3>添加入站（vless + ws）</h3>
<pre class="notranslate"><code class="notranslate">curl -X POST "http://127.0.0.1:2053/qwer/panel/api/inbounds/add" \
  -b cookies.txt \
  -H "Content-Type: application/json" \
  -d '{
    "up": 0,
    "down": 0,
    "total": 0,
    "remark": "node1",
    "enable": true,
    "expiryTime": 0,
    "listen": "",
    "port": 18917,
    "protocol": "vless",
    "settings": "{\"clients\": [{\"id\": \"aeff4df1-3e30-4b5f-b6b8-635872b85aa0\",\"flow\": \"\",\"email\": \"hscqy7r3\",\"limitIp\": 0,\"totalGB\": 0,\"expiryTime\": 0,\"enable\": true,\"tgId\": \"\",\"subId\": \"ktl8jfe6bgnyon4g\",\"reset\": 0}],\"decryption\": \"none\",\"fallbacks\": []}",
    "streamSettings": "{\"network\": \"ws\",\"security\": \"none\",\"externalProxy\": [],\"tcpSettings\": {\"acceptProxyProtocol\": false,\"header\": {\"type\": \"none\"}}}",
    "tag": "inbound-18917",
    "sniffing": "{\"enabled\": false,\"destOverride\": [\"http\",\"tls\",\"quic\",\"fakedns\"],\"metadataOnly\": false,\"routeOnly\": false}",
    "allocate": "{\"strategy\": \"always\",\"refresh\": 5,\"concurrency\": 3}"
}'
</code></pre>
<h3>添加入站（vless + grpc + reailty）</h3>
<pre class="notranslate"><code class="notranslate">curl -X POST "http://127.0.0.1:2053/qwer/panel/api/inbounds/add" \
  -b cookies.txt \
  -H "Content-Type: application/json" \
  -d '{
    "up": 0,
    "down": 0,
    "total": 0,
    "remark": "node2",
    "enable": true,
    "expiryTime": 0,
    "listen": "",
    "port": 10654,
    "protocol": "vless",
    "settings": "{\"clients\": [{\"id\": \"bf7d39f5-257e-499f-acda-a9ea77b11bb4\",\"flow\": \"\",\"email\": \"y6kxqdix\",\"limitIp\": 0,\"totalGB\": 0,\"expiryTime\": 0,\"enable\": true,\"tgId\": \"\",\"subId\": \"cqeaws7i3w3z70rp\",\"reset\": 0}],\"decryption\": \"none\",\"fallbacks\": []}",
    "streamSettings": "{\"network\": \"grpc\",\"security\": \"reality\",\"externalProxy\": [],\"realitySettings\": {\"show\": false,\"xver\": 0,\"dest\": \"www.icloud.com:443\",\"serverNames\": [\"www.icloud.com\"],\"privateKey\": \"4FNf4m1nQVXcoO31xjk7noe82A7F2Dg2XEier3ogEBY\",\"minClient\": \"\",\"maxClient\": \"\",\"maxTimediff\": 0,\"shortIds\": [\"863f9613\",\"d978\",\"0f3abe\",\"79\",\"f014d5309f8954\",\"1311bf0f64f82159\",\"3d0cba0857f7\",\"c7ce204393\"],\"settings\": {\"publicKey\": \"3fFBgCb6PpNC_Kqph7UM2pXw4m1ck82ss4ov8YlmqWc\",\"fingerprint\": \"chrome\",\"serverName\": \"\",\"spiderX\": \"/\"}}}",
    "grpcSettings": "{\"serviceName\": \"\",\"authority\": \"\",\"multiMode\": false}",
    "tag": "inbound-10654",
    "sniffing": "{\"enabled\": false,\"destOverride\": [\"http\",\"tls\",\"quic\",\"fakedns\"],\"metadataOnly\": false,\"routeOnly\": false}",
    "allocate": "{\"strategy\": \"always\",\"refresh\": 5,\"concurrency\": 3}"
  }'
</code></pre>
<h3>添加入站（ss协议）</h3>
<pre class="notranslate"><code class="notranslate">curl -X POST "http://127.0.0.1:2053/qwer/panel/api/inbounds/add" \
  -b cookies.txt \
  -H "Content-Type: application/json" \
  -d '{
    "up": 0,
    "down": 0,
    "total": 0,
    "remark": "node3",
    "enable": true,
    "expiryTime": 0,
    "listen": "",
    "port": 15584,
    "protocol": "shadowsocks",
    "settings": "{\"method\": \"aes-256-gcm\",\"password\": \"pn8P4P/QQufYak532Eu4+jO2rovYatJIZPbPmzg6yw4=\",\"network\": \"tcp,udp\",\"clients\": [{\"method\": \"aes-256-gcm\",\"password\": \"WGfVnsKmHgs/xs259zTxRuya2RDvjKiU2WAqM5Sevic=\",\"email\": \"gcxfaord\",\"limitIp\": 0,\"totalGB\": 0,\"expiryTime\": 0,\"enable\": true,\"tgId\": \"\",\"subId\": \"yx89qjpbt2bo03fc\",\"reset\": 0}],\"ivCheck\": false}",
    "streamSettings": "{\"network\": \"tcp\",\"security\": \"none\",\"externalProxy\": [],\"tcpSettings\": {\"acceptProxyProtocol\": false,\"header\": {\"type\": \"none\"}}}",
    "tag": "inbound-15584",
    "sniffing": "{\"enabled\": false,\"destOverride\": [\"http\",\"tls\",\"quic\",\"fakedns\"],\"metadataOnly\": false,\"routeOnly\": false}",
    "allocate": "{\"strategy\": \"always\",\"refresh\": 5,\"concurrency\": 3}"
  }'
</code></pre>
<h3>API文档</h3>
<ul>
<li><a href="https://www.postman.com/hsanaei/3x-ui/collection/q1l5l0u/3x-ui" rel="nofollow">API 文档</a></li>
<li><code class="notranslate">/login</code> 使用 <code class="notranslate">POST</code> 用户名称 &amp; 密码： <code class="notranslate">{username: '', password: ''}</code> 登录</li>
<li><code class="notranslate">/panel/api/inbounds</code> 以下操作的基础：</li>
</ul>
<markdown-accessiblity-table><table role="table">
<thead>
<tr>
<th align="center">方法</th>
<th>路径</th>
<th>操作</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code class="notranslate">GET</code></td>
<td><code class="notranslate">"/list"</code></td>
<td>获取所有入站</td>
</tr>
<tr>
<td align="center"><code class="notranslate">GET</code></td>
<td><code class="notranslate">"/get/id"</code></td>
<td>获取所有入站以及inbound.id</td>
</tr>
<tr>
<td align="center"><code class="notranslate">GET</code></td>
<td><code class="notranslate">"/getClientTraffics/email"</code></td>
<td>通过电子邮件获取客户端流量</td>
</tr>
<tr>
<td align="center"><code class="notranslate">GET</code></td>
<td><code class="notranslate">"/createbackup"</code></td>
<td>Telegram 机器人向管理员发送备份</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/add"</code></td>
<td>添加入站</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/del/id"</code></td>
<td>删除入站</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/update/id"</code></td>
<td>更新入站</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/clientIps/email"</code></td>
<td>客户端 IP 地址</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/clearClientIps/email"</code></td>
<td>清除客户端 IP 地址</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/addClient"</code></td>
<td>将客户端添加到入站</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/:id/delClient/clientId"</code></td>
<td>通过 clientId* 删除客户端</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/updateClient/clientId"</code></td>
<td>通过 clientId* 更新客户端</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/:id/resetClientTraffic/email"</code></td>
<td>重置客户端的流量</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/resetAllTraffics"</code></td>
<td>重置所有入站的流量</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/resetAllClientTraffics/id"</code></td>
<td>重置入站中所有客户端的流量</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/delDepletedClients/id"</code></td>
<td>删除入站耗尽的客户端 （-1： all）</td>
</tr>
<tr>
<td align="center"><code class="notranslate">POST</code></td>
<td><code class="notranslate">"/onlines"</code></td>
<td>获取在线用户 （ 电子邮件列表 ）</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p>*- <code class="notranslate">clientId</code> 项应该使用下列数据</p>
<ul>
<li><code class="notranslate">client.id</code>  VMESS and VLESS</li>
<li><code class="notranslate">client.password</code>  TROJAN</li>
<li><code class="notranslate">client.email</code>  Shadowsocks</li>
</ul>
<h3>参数解释</h3>
<pre class="notranslate"><code class="notranslate">{
  "_comment": "上面是一些全局设置",
  "up": 0,  // 上传流量限制，单位为字节，0表示不限制
  "down": 0,  // 下载流量限制，单位为字节，0表示不限制
  "total": 0,  // 总流量限制，单位为字节，0表示不限制
  "remark": "node2",  // 节点备注，用于标识节点
  "enable": true,  // 是否启用此节点，true表示启用
  "expiryTime": 0,  // 过期时间，单位为秒，0表示永不过期
  "listen": "",  // 监听地址，空表示默认监听所有地址
  "port": 10654,  // 监听端口号
  "protocol": "vless",  // 协议类型，vless表示VLESS协议
  "settings": {
    "_comment": "此部分为协议相关设置",
    "clients": [
      {
        "id": "bf7d39f5-257e-499f-acda-a9ea77b11bb4",  // 客户端ID，唯一标识
        "flow": "",  // 流量控制，空表示没有流量限制
        "email": "y6kxqdix",  // 客户端的邮箱，用于标识
        "limitIp": 0,  // 限制IP，0表示不限制
        "totalGB": 0,  // 总流量限制，单位为GB，0表示不限制
        "expiryTime": 0,  // 客户端的过期时间，0表示永不过期
        "enable": true,  // 是否启用此客户端
        "tgId": "",  // TG ID，如果为空则表示没有设置
        "subId": "cqeaws7i3w3z70rp",  // 订阅ID
        "reset": 0  // 重置流量的时间，0表示不重置
      }
    ],
    "decryption": "none",  // 解密方式，none表示不使用解密
    "fallbacks": []  // 后备设置，空数组表示没有备用配置
  },
  "streamSettings": {
    "_comment": "此部分为流设置",
    "network": "grpc",  // 网络协议，grpc表示使用gRPC协议
    "security": "reality",  // 安全设置，reality表示使用Reality协议
    "externalProxy": [],  // 外部代理设置，空数组表示没有外部代理
    "realitySettings": {
      "_comment": "Reality协议设置",
      "show": false,  // 是否显示该设置
      "xver": 0,  // 协议版本号
      "dest": "www.icloud.com:443",  // 目标地址，www.icloud.com:443
      "serverNames": [
        "www.icloud.com"  // 服务器名称，用于TLS验证
      ],
      "privateKey": "4FNf4m1nQVXcoO31xjk7noe82A7F2Dg2XEier3ogEBY",  // Reality协议私钥
      "minClient": "",  // 最小客户端数，空表示没有限制
      "maxClient": "",  // 最大客户端数，空表示没有限制
      "maxTimediff": 0,  // 最大时间差，0表示不限制
      "shortIds": [
        "863f9613", "d978", "0f3abe", "79", "f014d5309f8954",
        "1311bf0f64f82159", "3d0cba0857f7", "c7ce204393"
      ],  // Reality协议的短ID列表
      "settings": {
        "publicKey": "3fFBgCb6PpNC_Kqph7UM2pXw4m1ck82ss4ov8YlmqWc",  // Reality协议的公钥
        "fingerprint": "chrome",  // 浏览器指纹，chrome表示谷歌浏览器
        "serverName": "",  // 服务器名称
        "spiderX": "/"  // 模拟爬虫的路径
      }
    }
  },
  "grpcSettings": {
    "_comment": "gRPC协议的设置",
    "serviceName": "",  // 服务名称，空表示没有指定
    "authority": "",  // 权威设置，空表示没有指定
    "multiMode": false  // 是否启用多模式，false表示关闭
  },
  "tag": "inbound-10654",  // 标签，用于标识该入站
  "sniffing": {
    "_comment": "嗅探设置",
    "enabled": false,  // 是否启用嗅探，false表示不启用
    "destOverride": [
      "http", "tls", "quic", "fakedns"  // 嗅探的目标协议
    ],
    "metadataOnly": false,  // 是否只嗅探元数据
    "routeOnly": false  // 是否只嗅探路由
  },
  "allocate": {
    "_comment": "流量分配设置",
    "strategy": "always",  // 分配策略，always表示始终分配
    "refresh": 5,  // 刷新时间，单位为秒
    "concurrency": 3  // 最大并发连接数
  }
}
</code></pre></div>
<div style="font-size:small;margin-top:8px;float:right;">❤️转载请注明出处❤️</div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://blog.52013120.xyz">繁星点点</a></div>
<div id="footer2">
    <span id="runday"></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if("07/01/2024"!=""){
    var startSite=new Date("07/01/2024");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" ";
}
</script>
<script defer src="https://api.adminlove.me/script.js" data-website-id="68b84108-618a-4b39-a4cc-6ab3bdd869c7"></script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);





document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>
<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>

</html>
