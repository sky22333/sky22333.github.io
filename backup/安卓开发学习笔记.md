# å®‰å“å¼€å‘å­¦ä¹ ç¬”è®°

# Windows ç³»ç»Ÿæ‰‹åŠ¨å®‰è£… Flutter ç¯å¢ƒ

## âœ… ä¸€ã€å‡†å¤‡æ¡ä»¶

1. æ“ä½œç³»ç»Ÿï¼šWindows 10/11ï¼ˆæ¨è 64 ä½ï¼‰
2. å®‰è£…è¦æ±‚ï¼š

### Gitï¼ˆFlutter å®‰è£…ä¾èµ–ï¼‰
```
# æŸ¥çœ‹
git --version

# é»˜è®¤å®‰è£…è·¯å¾„
C:\Program Files\Git
```   
### Android SDKï¼ˆç”¨äºæ„å»º APKï¼‰
```
# æŸ¥çœ‹
sdkmanager --list

# é»˜è®¤å®‰è£…è·¯å¾„
C:\Users\<ä½ çš„ç”¨æˆ·å>\AppData\Local\Android\Sdk
```  
### JDKï¼ˆå»ºè®® JDK 17ï¼‰
```
# æŸ¥çœ‹
java -version

# é»˜è®¤å®‰è£…è·¯å¾„
C:\Program Files\Java\jdk-17
```   

---

## âœ… äºŒã€å®‰è£… Flutter SDK

### 1. ä¸‹è½½ Flutter

- ä¸‹è½½åœ°å€ï¼šhttps://flutter.dev/docs/get-started/install/windows  
- ç›´æ¥ä¸‹è½½é“¾æ¥ï¼ˆFlutter 3.13.7 ç¨³å®šç‰ˆï¼‰ï¼š
  ```
  https://storage.googleapis.com/flutter_infra_release/releases/stable/windows/flutter_windows_3.13.7-stable.zip
  ```

### 2. è§£å‹

è§£å‹åˆ°è·¯å¾„ï¼Œä¾‹å¦‚ï¼š
```
C:\flutter
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å°†ä»¥ä¸‹è·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ `Path` ä¸­ï¼š
```
C:\flutter\bin
```

ç„¶åé‡å¯ç»ˆç«¯ï¼ˆcmd/powershellï¼‰ã€‚

---

## âœ… ä¸‰ã€å®‰è£… Android SDKï¼ˆå‘½ä»¤è¡Œæ–¹å¼ï¼‰

### 1. ä¸‹è½½ Android å‘½ä»¤è¡Œå·¥å…·

- å®˜æ–¹åœ°å€ï¼šhttps://developer.android.com/studio#command-tools
- ä¸‹è½½ zip å¹¶è§£å‹åˆ°ï¼š
  ```
  C:\Android\cmdline-tools\latest\
  ```

æ³¨æ„ï¼šè§£å‹åçš„ç›®å½•ç»“æ„å¿…é¡»æ˜¯ï¼š
```
C:\Android\cmdline-tools\latest\bin
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```
ANDROID_HOME=C:\Android
Path += C:\Android\platform-tools
Path += C:\Android\cmdline-tools\latest\bin
```

### 3. å®‰è£…å¿…è¦ç»„ä»¶

```bash
sdkmanager --sdk_root=C:\Android "platform-tools" "platforms;android-34" "build-tools;34.0.0"
```

---

## âœ… å››ã€å®‰è£… JDKï¼ˆå»ºè®® JDK 17ï¼‰

- ä¸‹è½½ï¼šhttps://jdk.java.net/17/
- å®‰è£…åè®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```
JAVA_HOME = C:\Program Files\Java\jdk-17
Path += %JAVA_HOME%\bin
```

---

## âœ… äº”ã€éªŒè¯å®‰è£…

```bash
flutter doctor
```

æ£€æŸ¥æ˜¯å¦è¯†åˆ«å‡ºæ‰€æœ‰ç»„ä»¶å¹¶æ˜¾ç¤º âœ…ã€‚

---

## âœ… å…­ã€åˆ›å»ºå’Œæ„å»ºé¡¹ç›®

### 1. åˆ›å»ºé¡¹ç›®

```bash
flutter create myapp
cd myapp
```

### 2. æ„å»º APK

```bash
flutter build apk --release
```

è¾“å‡ºæ–‡ä»¶è·¯å¾„ï¼š
```
build\app\outputs\flutter-apk\app-release.apk
```

---

## âœ… é™„ï¼šå¸¸è§å»ºè®®

| é¡¹ç›®            | æ¨èé…ç½®                             |
|-----------------|--------------------------------------|
| JDK             | OpenJDK 17                           |
| Android SDK     | platform-tools, android-34, build-tools-34 |
| æ„å»ºå‘½ä»¤        | flutter build apk --release          |
| ä¸å»ºè®®ä½¿ç”¨æƒé™ | å°½é‡ä¸è¦ä½¿ç”¨ç®¡ç†å‘˜/root æ„å»º         |

---



## Flutter ç°ä»£åŒ–é¡¹ç›®ç›®å½•ç»“æ„

```
my_flutter_app/                    # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ android/                      # Android å¹³å°ç›¸å…³ä»£ç ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ ios/                          # iOS å¹³å°ç›¸å…³ä»£ç ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ lib/                          # Flutter åº”ç”¨ä¸»ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.dart                 # å…¥å£æ–‡ä»¶ï¼Œåº”ç”¨å¯åŠ¨ç‚¹
â”‚   â”œâ”€â”€ src/                     # ä¸šåŠ¡ä»£ç ç›®å½•ï¼ˆå¯æŒ‰éœ€è‡ªå®šä¹‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ widgets/             # å¤ç”¨ Widget ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/               # é¡µé¢çº§ Widgetï¼ˆScreenï¼‰
â”‚   â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘æˆ– API è¯·æ±‚
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·ç±»å‡½æ•°
â”‚   â”‚   â””â”€â”€ providers/           # çŠ¶æ€ç®¡ç†ï¼ˆå¦‚ Providerã€Riverpodï¼‰
â”œâ”€â”€ assets/                       # é™æ€èµ„æºç›®å½•ï¼ˆå›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰
â”‚   â”œâ”€â”€ images/                   # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ fonts/                    # å­—ä½“èµ„æº
â”‚   â””â”€â”€ translations/             # å›½é™…åŒ–èµ„æºï¼ˆå¦‚ ARB æ–‡ä»¶ï¼‰
â”œâ”€â”€ test/                        # å•å…ƒæµ‹è¯•ä»£ç 
â”œâ”€â”€ pubspec.yaml                 # Flutter é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œç®¡ç†ä¾èµ–ã€èµ„æº
â”œâ”€â”€ analysis_options.yaml        # Dart åˆ†æè§„åˆ™é…ç½®ï¼ˆlint è§„åˆ™ï¼‰
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ build/                       # æ„å»ºè¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
```

---

## å…³é”®è¯´æ˜

- `lib/main.dart`  
  åº”ç”¨ç¨‹åºå…¥å£ï¼Œé€šå¸¸è°ƒç”¨ `runApp()` å¯åŠ¨æ ¹ç»„ä»¶ã€‚

- `lib/src/`  
  æŒ‰åŠŸèƒ½æ¨¡å—åˆ’åˆ†ä»£ç ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œæ‰©å±•ã€‚ç°ä»£é¡¹ç›®æ¨èåšæ¸…æ™°åˆ†å±‚ã€‚

- `assets/`  
  å­˜æ”¾é™æ€èµ„æºï¼Œéœ€åœ¨ `pubspec.yaml` ä¸­å£°æ˜æ‰èƒ½ä½¿ç”¨ã€‚

- `pubspec.yaml`  
  æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå£°æ˜Flutter SDKç‰ˆæœ¬ã€ä¾èµ–åŒ…ã€èµ„æºè·¯å¾„ã€å›½é™…åŒ–ç­‰ã€‚

- `analysis_options.yaml`  
  ä»£ç é£æ ¼å’Œé™æ€æ£€æŸ¥é…ç½®ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€‚

---

## ç°ä»£ Flutter é¡¹ç›®æŠ€æœ¯æ ˆç¤ºä¾‹

- çŠ¶æ€ç®¡ç†ï¼šProvider / Riverpod / Bloc / GetX
- ç½‘ç»œè¯·æ±‚ï¼šDio / http
- å›½é™…åŒ–ï¼šFlutter Intlï¼ˆARB æ–‡ä»¶ï¼‰
- è·¯ç”±ç®¡ç†ï¼šGoRouter / AutoRoute
- ä»£ç ç”Ÿæˆï¼šFreezedï¼ˆæ•°æ®æ¨¡å‹ï¼‰ï¼ŒJsonSerializableï¼ˆåºåˆ—åŒ–ï¼‰
- UI æ¡†æ¶ï¼šMaterial 3 / Cupertino Widgets
- æŒç»­é›†æˆï¼šGitHub Actions / Codemagic

---


---


# Windows ä¸‹æ‰‹åŠ¨å®‰è£… Kotlin + Gradle å¼€å‘ç¯å¢ƒ

## âœ… ä¸€ã€å‡†å¤‡æ¡ä»¶

### JDKï¼ˆå»ºè®® JDK 17ï¼‰
```
# æŸ¥çœ‹
java -version

# é»˜è®¤å®‰è£…è·¯å¾„
C:\Program Files\Java\jdk-17
```   

### Android SDKï¼ˆç”¨äºæ„å»º APKï¼‰
```
# æŸ¥çœ‹
sdkmanager --list

# é»˜è®¤å®‰è£…è·¯å¾„
C:\Users\<ä½ çš„ç”¨æˆ·å>\AppData\Local\Android\Sdk
```  


### Gradle æ„å»ºå·¥å…·

```
# æŸ¥çœ‹
gradle -v

# é»˜è®¤å®‰è£…è·¯å¾„
C:\Gradle\gradle-8.0
```
ä½ ä¸‹è½½å¹¶è§£å‹ Gradle åï¼Œä¸€èˆ¬ä¼šæ”¾åœ¨ä¸€ä¸ªç›®å½•ï¼Œæ¯”å¦‚ä¸Šé¢è·¯å¾„ã€‚

è¿™ä¸ªç›®å½•ä¸‹æœ‰`bin`æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰`gradle.bat`ï¼Œéœ€è¦æŠŠè¿™ä¸ª`bin`è·¯å¾„åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ PATH ä¸­ï¼Œæ‰èƒ½å…¨å±€ä½¿ç”¨`gradle`å‘½ä»¤ã€‚

---

## âœ… äºŒã€å®‰è£… JDK

### 1. ä¸‹è½½ JDK

- æ¨èä¸‹è½½ OpenJDK 17ï¼š
  https://jdk.java.net/17/

### 2. å®‰è£…å¹¶é…ç½®ç¯å¢ƒå˜é‡

å‡è®¾ä½ å°† JDK å®‰è£…åœ¨ï¼š
```
C:\Program Files\Java\jdk-17
```

æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š
```
JAVA_HOME = C:\Program Files\Java\jdk-17
Path += %JAVA_HOME%\bin
```

---


## âœ… ä¸‰ã€å®‰è£… Gradle

### 1. ä¸‹è½½ Gradle

- åœ°å€ï¼šhttps://gradle.org/releases/
- ä¸‹è½½ Binary-only ç‰ˆæœ¬ zip åŒ…

### 2. è§£å‹å¹¶é…ç½®ç¯å¢ƒå˜é‡

å‡è®¾ä½ è§£å‹åˆ°ï¼š
```
C:\gradle\gradle-8.7
```

æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
```
GRADLE_HOME = C:\gradle\gradle-8.7
Path += %GRADLE_HOME%\bin
```

### 3. éªŒè¯

```bash
gradle -v
```

## âœ… å››ã€å®‰è£… Android SDKï¼ˆå‘½ä»¤è¡Œæ–¹å¼ï¼‰

### 1. ä¸‹è½½ Android å‘½ä»¤è¡Œå·¥å…·

- å®˜æ–¹åœ°å€ï¼šhttps://developer.android.com/studio#command-tools
- ä¸‹è½½ zip å¹¶è§£å‹åˆ°ï¼š
  ```
  C:\Android\cmdline-tools\latest\
  ```

æ³¨æ„ï¼šè§£å‹åçš„ç›®å½•ç»“æ„å¿…é¡»æ˜¯ï¼š
```
C:\Android\cmdline-tools\latest\bin
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```
ANDROID_HOME=C:\Android
Path += C:\Android\platform-tools
Path += C:\Android\cmdline-tools\latest\bin
```

### 3. å®‰è£…å¿…è¦ç»„ä»¶

```bash
sdkmanager --sdk_root=C:\Android "platform-tools" "platforms;android-34" "build-tools;34.0.0"
```




---

## âœ… äº”ã€åˆ›å»º Kotlin + Gradle é¡¹ç›®

### 1. åˆ›å»ºé¡¹ç›®ç»“æ„

```bash
mkdir kotlin-app
cd kotlin-app
gradle init
```

åœ¨äº¤äº’ä¸­é€‰æ‹©ï¼š
- Type of project: **application**
- Language: **Kotlin**
- Build script DSL: **Kotlin**
- Test framework: **JUnit**

### 2. é¡¹ç›®ç»“æ„

```
kotlin-app/
â”œâ”€â”€ build.gradle.kts     // Kotlin DSL æ„å»ºè„šæœ¬
â”œâ”€â”€ settings.gradle.kts
â””â”€â”€ src/
    â””â”€â”€ main/
        â””â”€â”€ kotlin/
            â””â”€â”€ App.kt
```

### 3. ç¤ºä¾‹ä»£ç ï¼ˆ`src/main/kotlin/App.kt`ï¼‰

```kotlin
fun main() {
    println("ä½ å¥½ï¼ŒKotlinï¼")
}
```

---

## âœ… å…­ã€æ„å»ºå’Œè¿è¡Œé¡¹ç›®

### æ„å»ºé¡¹ç›®

```bash
gradle build
```

### è¿è¡Œç¨‹åº

```bash
gradle run
```

### ä¾èµ–ç®¡ç†
```
gradle dependencies   # æŸ¥çœ‹ä¾èµ–æ ‘
gradle --refresh-dependencies  # å¼ºåˆ¶åˆ·æ–°ä¾èµ–
```


---

## âœ… ä¸ƒã€å¸¸è§é—®é¢˜å»ºè®®

| é¡¹ç›®            | å»ºè®®ç‰ˆæœ¬/è¯´æ˜             |
|----------------|----------------------------|
| JDK            | JDK 17                     |
| Gradle         | Gradle 8.xï¼ˆæ”¯æŒ Kotlin DSLï¼‰ |
| Kotlin         | å¯ä½¿ç”¨å†…ç½® Gradle æ’ä»¶ç‰ˆæœ¬ |
| IDE            | å¯é€‰ï¼Œå‘½ä»¤è¡Œå³å¯å¼€å‘       |

---

## âœ… é™„åŠ èµ„æº

- Kotlin å®˜æ–¹æ–‡æ¡£ï¼šhttps://kotlinlang.org/docs/home.html
- Gradle Kotlin DSL æŒ‡å—ï¼šhttps://docs.gradle.org/current/userguide/kotlin_dsl.html

## Gradleå›½å†…é•œåƒ

`bin.zip` åªå«è¿è¡Œç¯å¢ƒã€‚

- è…¾è®¯ï¼š`https://mirrors.cloud.tencent.com/gradle/gradle-8.4-bin.zip`
- é˜¿é‡Œï¼š`https://mirrors.aliyun.com/gradle/gradle-8.4-bin.zip`


## Kotliné¡¹ç›®å¸¸è§ç›®å½•ç»“æ„

```
MyAndroidProject/               # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ app/                       # åº”ç”¨æ¨¡å—ï¼ˆä¸»ç¨‹åºï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/           # Java æˆ– Kotlin æºä»£ç ç›®å½•
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...         # æŒ‰åŒ…ååˆ†ç›®å½•ï¼Œæ¯”å¦‚ com/example/app
â”‚   â”‚   â”‚   â”œâ”€â”€ res/            # èµ„æºæ–‡ä»¶ç›®å½•ï¼ˆå¸ƒå±€ã€å›¾ç‰‡ã€å­—ç¬¦ä¸²ç­‰ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout/     # ç•Œé¢å¸ƒå±€ XML æ–‡ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ drawable/   # å›¾ç‰‡èµ„æºï¼ˆpngã€jpgç­‰ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mipmap/     # å¯åŠ¨å›¾æ ‡ï¼ˆå¤šåˆ†è¾¨ç‡ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ values/     # å­—ç¬¦ä¸²ã€é¢œè‰²ã€å°ºå¯¸ã€æ ·å¼ç­‰ XML
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ font/       # å­—ä½“æ–‡ä»¶ï¼ˆttf/otfï¼‰
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ anim/       # åŠ¨ç”»èµ„æº XML æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AndroidManifest.xml  # åº”ç”¨æ¸…å•æ–‡ä»¶ï¼Œé…ç½®åº”ç”¨ä¿¡æ¯ã€æƒé™ç­‰
â”‚   â”‚   â”‚   â””â”€â”€ assets/         # åŸå§‹èµ„æºæ–‡ä»¶ï¼ˆæ— éœ€é¢„å¤„ç†ï¼Œå¦‚å­—ä½“ã€htmlï¼‰
â”‚   â”‚   â””â”€â”€ test/               # å•å…ƒæµ‹è¯•ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ build.gradle            # æ¨¡å—çº§ Gradle æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ proguard-rules.pro      # æ··æ·†é…ç½®æ–‡ä»¶
â”œâ”€â”€ build/                     # æ„å»ºè¾“å‡ºç›®å½•ï¼ˆç¼–è¯‘ç”Ÿæˆæ–‡ä»¶ï¼‰
â”œâ”€â”€ gradle/                    # Gradle åŒ…è£…å™¨ç›¸å…³æ–‡ä»¶
â”‚   â””â”€â”€ wrapper/
â”‚       â””â”€â”€ gradle-wrapper.properties  # Gradle ç‰ˆæœ¬é…ç½®
â”œâ”€â”€ gradle.properties          # Gradle å…¨å±€é…ç½®å‚æ•°
â”œâ”€â”€ settings.gradle            # é¡¹ç›®è®¾ç½®æ–‡ä»¶ï¼ˆåŒ…å«æ¨¡å—é…ç½®ï¼‰
â”œâ”€â”€ build.gradle               # é¡¹ç›®çº§ Gradle æ„å»ºè„šæœ¬ï¼Œé…ç½®æ’ä»¶ç‰ˆæœ¬ç­‰
â””â”€â”€ local.properties           # æœ¬åœ° SDK è·¯å¾„ç­‰ç§æœ‰é…ç½®ï¼ˆé€šå¸¸ä¸ä¸Šä¼ ï¼‰
```

---

### è¯´æ˜

- `app/src/main/java/`ï¼šå†™ä¸šåŠ¡é€»è¾‘ä»£ç ã€ç•Œé¢é€»è¾‘ä»£ç çš„åœ°æ–¹ï¼ŒæŒ‰åŒ…åç»„ç»‡ã€‚
- `app/src/main/res/`ï¼šå­˜æ”¾ UI ç›¸å…³çš„é™æ€èµ„æºï¼Œå¦‚å¸ƒå±€æ–‡ä»¶ã€å›¾ç‰‡ã€å­—ç¬¦ä¸²ç­‰ã€‚
- `AndroidManifest.xml`ï¼šAndroid åº”ç”¨çš„å…ƒæ•°æ®æ–‡ä»¶ï¼Œå£°æ˜æƒé™ã€ç»„ä»¶ç­‰ã€‚
- `assets/`ï¼šç±»ä¼¼èµ„æºæ–‡ä»¶å¤¹ï¼Œä½†å†…å®¹ä¸è¢«ç¼–è¯‘ï¼Œå¯ä»¥åŸæ ·è¯»å–ï¼ˆä¾‹å¦‚åŠ è½½htmlï¼‰ã€‚
- `build.gradle`ï¼ˆæ ¹ç›®å½•ï¼‰ï¼šå®šä¹‰é¡¹ç›®é€šç”¨é…ç½®ã€ä¾èµ–ç®¡ç†ã€æ’ä»¶ç‰ˆæœ¬ã€‚
- `build.gradle`ï¼ˆappç›®å½•ï¼‰ï¼šå®šä¹‰æ¨¡å—çº§åˆ«çš„ SDK ç‰ˆæœ¬ã€ä¾èµ–åº“ã€æ„å»ºé…ç½®ã€‚
- `local.properties`ï¼šå­˜æ”¾æœ¬åœ° SDK è·¯å¾„ï¼Œä¸åº”æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚

---




## é¡¹ç›®ç¯å¢ƒä¾èµ–ç‰ˆæœ¬æŸ¥çœ‹


| é¡¹ç›®æ–‡ä»¶ | æŸ¥ä»€ä¹ˆç‰ˆæœ¬ | å…³é”®è¯ç¤ºä¾‹ |
|----------|------------|-------------|
| `gradle-wrapper.properties` | Gradle æ„å»ºç‰ˆæœ¬ | `distributionUrl=...gradle-8.4-bin.zip` |
| `build.gradle`ï¼ˆé¡¹ç›®çº§ï¼‰ | Gradle æ’ä»¶ / Kotlin æ’ä»¶ç‰ˆæœ¬ | `com.android.tools.build:gradle:8.4.0` |
| `gradle.properties` | Kotlin é…ç½® / JVM å‚æ•° | `kotlin.code.style=official` |
| `app/build.gradle` | compileSdk / minSdk / targetSdk / Kotlin ç‰ˆæœ¬ | `compileSdk 34`, `jvmTarget = "1.8"` |
| `dependencies` | æ‰€ä¾èµ–çš„æ‰€æœ‰åº“å’Œç‰ˆæœ¬ | `implementation 'androidx.core:core-ktx:1.15.0'` |



## Dockeræ„å»ºå‚è€ƒ

```
services:
  android-build:
    image: thyrlian/android-sdk
    volumes:
      - ./:/app
      - ./gradle-cache:/root/.gradle
    working_dir: /app
    environment:
      - GRADLE_OPTS=-Dorg.gradle.daemon=false
      - JAVA_OPTS=-Xmx4g
    command: >
      sh -c "
        chmod +x gradlew &&
        ./gradlew clean assembleDebug
      "
    # æ„å»ºå‘å¸ƒç‰ˆæœ¬éœ€è¦ç­¾å
  android-release:
    image: thyrlian/android-sdk
    volumes:
      - ./:/app
      - ./gradle-cache:/root/.gradle
    working_dir: /app
    environment:
      - GRADLE_OPTS=-Dorg.gradle.daemon=false
      - JAVA_OPTS=-Xmx4g
      # ç­¾åç›¸å…³ç¯å¢ƒå˜é‡
      - KEYSTORE_FILE=/app/keystore/release.jks
      - KEYSTORE_PASSWORD=${KEYSTORE_PASSWORD}
      - KEY_ALIAS=${KEY_ALIAS}
      - KEY_PASSWORD=${KEY_PASSWORD}
    command: >
      sh -c "
        chmod +x gradlew &&
        ./gradlew clean assembleRelease
      "
```
```
# æ„å»ºè°ƒè¯•ç‰ˆæœ¬
docker compose up android-build

# æ„å»ºå‘å¸ƒç‰ˆæœ¬ï¼ˆéœ€è¦é…ç½®ç­¾åï¼‰
docker compose up android-release
```

---
---

## ğŸ¤–Go é¡¹ç›®ç”Ÿæˆ Android SDK (AAR) å¹¶åœ¨ Kotlin è°ƒç”¨

1. å®‰è£… gomobile
```
go install golang.org/x/mobile/cmd/gomobile@latest
go install golang.org/x/mobile/cmd/gobind@latest
gomobile init
```
2. ç¼–å†™ Go åº“

- å¯¼å‡ºå‡½æ•°é¦–å­—æ¯å¿…é¡»å¤§å†™
- ä¸€èˆ¬åªéœ€ç¼–å†™goé¡¹ç›®çš„`å¯åŠ¨ åœæ­¢ é‡å¯ æ—¥å¿—`ç­‰ç­‰æ¥å£å³å¯ã€‚

3. ç”Ÿæˆ AAR åº“
```
gomobile bind -target=android ./mylib
```
è¾“å‡ºæ–‡ä»¶ï¼š
```
mylib.aar â† Android ä¾èµ–åº“

mylib-sources.jar â† æºç  (å¯é€‰)
```

4. å¯¼å…¥åˆ°å®‰å“é¡¹ç›®

å°†`mylib.aar`æ”¾åˆ°`app/libs/`ç›®å½•

ä¿®æ”¹`app/build.gradle`
```
dependencies {
    implementation files('libs/mylib.aar')
}
```
5. Kotlin è°ƒç”¨ Go åº“
```
import mylib.Mylib

val result = Mylib.hello("World")
Log.d("GoLib", result)  // è¾“å‡º: Hello, World!
```

## æœ€æ–°ä¸»æµæŠ€æœ¯æ ˆ
```
ğŸ”¹æ ¸å¿ƒæŠ€æœ¯æ ˆ

Kotlin â†’ è°·æ­Œå®˜æ–¹æ¨èçš„ Android ä¸»è¯­è¨€ï¼Œç°ä»£åŒ–ã€ç©ºå®‰å…¨ã€åç¨‹æ”¯æŒã€‚

Jetpack Compose â†’ ä½œä¸ºç³»ç»Ÿä¸»é¢˜ã€å£°æ˜å¼ UI æ¡†æ¶ï¼Œå·²ç»æ˜¯æ–°é¡¹ç›®çš„ä¸»æµã€‚

Material Design 3 (Material You) â†’ æœ€æ–°çš„ UI è®¾è®¡è§„èŒƒï¼Œæ”¯æŒåŠ¨æ€é…è‰²ï¼ˆè·Ÿéšç³»ç»Ÿä¸»é¢˜ï¼‰ã€‚

Android Architecture Components (AAC) â†’ ViewModelã€LiveDataã€Lifecycleã€Navigation ç­‰ï¼Œé…åˆ Compose/Flow ç”¨æ¥ç®¡ç†çŠ¶æ€å’Œæ¶æ„ã€‚

ğŸ”¹æœ€ä½³å®è·µ

Material3 â†’ Material Design 3 çš„ UI ç»„ä»¶åº“ã€‚

é¡¶éƒ¨çŠ¶æ€æ å’Œåº•éƒ¨å¯¼èˆªæ é¢œè‰²ç»Ÿä¸€ï¼ŒUIä¸è¦†ç›–ç³»ç»Ÿå›¾æ ‡ï¼Œä¹Ÿå®Œæ•´å¡«å……æ‰‹åŠ¿åŒºï¼Œæ•´ä½“æ‰å¹³åŒ–è®¾è®¡ã€‚

Jetpack Compose ä½œä¸ºç³»ç»Ÿä¸»é¢˜ï¼ˆçº¯ Compose ä¸»é¢˜ï¼Œä¸ä¾èµ– XML æ ·å¼ï¼‰

Lifecycle Runtime â†’ ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ï¼ˆlifecycle-runtime-ktx å¸¸é…åˆåç¨‹ä½¿ç”¨ï¼‰ã€‚

Activity Compose â†’ è¿æ¥ ComponentActivity å’Œ Composeã€‚

Material Icons Extended â†’ Google æä¾›çš„æ‰©å±•å›¾æ ‡é›†ï¼ŒUI å¸¸ç”¨ã€‚

Hilt/Dagger æˆ– Koin â†’ ä¾èµ–æ³¨å…¥

Room/Datastore â†’ æ•°æ®å­˜å‚¨

Navigation-Compose â†’ é¡µé¢è·¯ç”±

Coroutines + Flow â†’ å¼‚æ­¥ & å“åº”å¼ç¼–ç¨‹

ğŸ”¹ç³»ç»Ÿè¦æ±‚

æœ€ä½ SDK 23 (Android 6.0) â†’ ä¿è¯å…¼å®¹å¤§éƒ¨åˆ†æœºå‹ã€‚

ç›®æ ‡ SDK 35 (Android 15) â†’ è·Ÿéš Play å•†åº—è¦æ±‚ã€‚

ç¼–è¯‘ SDK 35 â†’ ä¿æŒæœ€æ–° API èƒ½åŠ›ã€‚
```
## gradleæ„å»ºå·¥å…·
```
https://github.com/gradle/gradle/raw/v8.14.3/gradle/wrapper/gradle-wrapper.jar
```
```
https://services.gradle.org/distributions/gradle-8.14.3-wrapper.jar

https://services.gradle.org/distributions/gradle-8.14.3-bin.zip
```

## Githubæµæ°´çº¿æ„å»ºç¤ºä¾‹

æäº¤æ–°tagæ ‡ç­¾è§¦å‘
```
name: Android Build APK

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      # æ£€å‡ºä»£ç 
      - uses: actions/checkout@v4

      # å®‰è£… JDK 17 å¹¶ç¼“å­˜ Gradle
      - name: Set up JDK 17
        uses: actions/setup-java@v4
        with:
          distribution: temurin
          java-version: 17
          cache: gradle

      # è‡ªåŠ¨ç”Ÿæˆ keystore
      - name: Generate keystore for CI
        run: |
          keytool -genkeypair \
            -alias ci-key \
            -keyalg RSA \
            -keysize 2048 \
            -validity 10000 \
            -keystore keystore.jks \
            -storepass 123456 \
            -keypass 123456 \
            -dname "CN=CI, OU=Dev, O=Company, L=City, S=State, C=CN"

      # ç”Ÿæˆ keystore.properties
      - name: Generate keystore.properties
        run: |
          echo "storeFile=keystore.jks" > keystore.properties
          echo "storePassword=123456" >> keystore.properties
          echo "keyAlias=ci-key" >> keystore.properties
          echo "keyPassword=123456" >> keystore.properties

      # æˆæƒ gradlew å¯æ‰§è¡Œ
      - name: Grant execute permission for gradlew
        run: chmod +x ./gradlew

      # æ„å»º release APK
      - name: Build release APK
        run: ./gradlew assembleRelease
        env:
          KEY_ALIAS: ci-key
          KEY_PASSWORD: 123456
          STORE_FILE: keystore.jks
          STORE_PASSWORD: 123456

      # ä¸Šä¼  APK artifact
      - name: Upload APK artifact
        uses: actions/upload-artifact@v4
        with:
          name: frp-Android
          path: app/build/outputs/apk/release/*.apk
          retention-days: 7

      # åˆ›å»º GitHub Release
      - name: Create GitHub Release
        uses: softprops/action-gh-release@v2
        with:
          tag_name: ${{ github.ref_name }}
          name: frp-Android ${{ github.ref_name }}
          files: app/build/outputs/apk/release/*.apk
          draft: false
          prerelease: false
          make_latest: true
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```